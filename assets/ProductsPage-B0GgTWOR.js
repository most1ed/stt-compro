import{r as l,u as m,j as e,I as v}from"./index-Dtb_Igiy.js";import{W as y}from"./WhatsAppContact-C0jF3DHz.js";import{B as k}from"./BrandLogo-4WWkJjB4.js";import{F as C}from"./MagnifyingGlassIcon-DuU6FY7Y.js";import"./dialog-BWJi2U5U.js";const I=()=>{const[r,c]=l.useState("all"),[a,u]=l.useState(""),[x,d]=l.useState(!1),[g,f]=l.useState({id:"",name:"",image_url:"",price:"",short_description:"",description:"",category:"",tkdn_number:"",padi_umkm_url:"",ina_proc_url:"",blibli_url:""}),{data:t,loading:p,error:h}=m("products"),{data:n}=m("brands");if(p)return e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx("div",{className:"text-lg",children:"Loading products..."})});if(h)return e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx("div",{className:"text-lg text-red-600",children:"Error loading products"})});const j=Array.from(new Set((t||[]).map(s=>s.category))),o=r==="all"?t:t==null?void 0:t.filter(s=>s.category===r),i=o==null?void 0:o.filter(s=>s.name.toLowerCase().includes(a.toLowerCase())||s.description.toLowerCase().includes(a.toLowerCase())||s.category.toLowerCase().includes(a.toLowerCase())),N=s=>!s||s===""||isNaN(Number(s))?"Call":`Rp ${Number(s).toLocaleString("id-ID")}`,b=s=>{f(s),d(!0)};return e.jsxs("div",{className:"bg-background",children:[e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"sm:flex-auto",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Produk Kami"}),e.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Pilihan produk berkualitas untuk kebutuhan teknologi Anda"})]}),e.jsx("div",{className:"mt-4 sm:mt-0 sm:flex-none",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(C,{className:"size-5 text-muted-foreground","aria-hidden":"true"})}),e.jsx("input",{type:"text",placeholder:"Cari produk...",value:a,onChange:s=>u(s.target.value),className:"block w-full rounded-md border border-input bg-background py-1.5 pl-10 pr-3 text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6"})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>c("all"),className:`rounded-full px-4 py-2 text-sm font-medium ${r==="all"?"bg-primary text-primary-foreground":"bg-accent text-accent-foreground hover:bg-accent/80"}`,children:"Semua"}),j.map(s=>e.jsx("button",{onClick:()=>c(s),className:`rounded-full px-4 py-2 text-sm font-medium ${r===s?"bg-primary text-primary-foreground":"bg-accent text-accent-foreground hover:bg-accent/80"}`,children:s},s))]})}),e.jsx("div",{className:"mt-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:i==null?void 0:i.map(s=>e.jsxs("div",{onClick:()=>b(s),className:"group cursor-pointer overflow-hidden rounded-lg border border-border bg-card transition-all hover:border-primary/50 hover:shadow-lg",children:[e.jsx("div",{className:"relative aspect-[16/9] overflow-hidden",children:e.jsx(v,{src:s.image_url,alt:s.name,className:"size-full object-cover transition-transform duration-300 group-hover:scale-105"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"line-clamp-1 font-medium text-foreground",children:s.name}),e.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:N(s.price)}),e.jsx("span",{className:"inline-flex items-center rounded-full bg-accent/20 px-2 py-1 text-xs font-medium text-accent-foreground",children:"New"})]})]})]},s.id))}),e.jsxs("div",{className:"mt-24",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Brand Partner"}),e.jsx("div",{className:"mx-auto mt-10 grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4",children:n==null?void 0:n.map(s=>e.jsx(k,{src:s.logo_url,alt:s.name},s.id))})]})]}),e.jsx(y,{open:x,onClose:()=>d(!1),product:g})]})};export{I as ProductsPage,I as default};
