import{r as n,a as x,j as s,I as k}from"./index-DiMdh7v4.js";import{W as v}from"./WhatsAppContact-DGnb8Mb3.js";import{B as y}from"./BrandLogo-BWWptQ05.js";import{F as C}from"./MagnifyingGlassIcon-DTbm9zzW.js";import"./dialog-DmGJ8NQM.js";import"./use-is-mounted-B-iswdkE.js";const D=()=>{const[a,d]=n.useState("all"),[i,g]=n.useState(""),[p,m]=n.useState(!1),[r,f]=n.useState({name:"",images:[],price:"",shortDescription:"",description:"",tkdnNumber:"",marketplaceLinks:{padiUmkm:"",inaProc:"",blibli:""}}),{data:t,loading:h,error:N}=x("products"),{data:l}=x("brands");if(h)return s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx("div",{className:"text-lg",children:"Loading products..."})});if(N)return s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx("div",{className:"text-lg text-red-600",children:"Error loading products"})});const b=Array.from(new Set((t||[]).map(e=>e.category))),o=a==="all"?t:t==null?void 0:t.filter(e=>e.category===a),c=o==null?void 0:o.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())||e.category.toLowerCase().includes(i.toLowerCase())),u=e=>!e||e===""||isNaN(Number(e))?"Call":`Rp ${Number(e).toLocaleString("id-ID")}`,j=e=>{f({name:e.name,images:[e.image_url],price:u(e.price),shortDescription:e.short_description||"",description:e.description,tkdnNumber:e.tkdn_number,marketplaceLinks:{padiUmkm:e.padi_umkm_url,inaProc:e.ina_proc_url,blibli:e.blibli_url}}),m(!0)};return s.jsxs("div",{className:"bg-background",children:[s.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"sm:flex-auto",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Produk Kami"}),s.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Pilihan produk berkualitas untuk kebutuhan teknologi Anda"})]}),s.jsx("div",{className:"mt-4 sm:mt-0 sm:flex-none",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx(C,{className:"size-5 text-muted-foreground","aria-hidden":"true"})}),s.jsx("input",{type:"text",placeholder:"Cari produk...",value:i,onChange:e=>g(e.target.value),className:"block w-full rounded-md border border-input bg-background py-1.5 pl-10 pr-3 text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6"})]})})]}),s.jsx("div",{className:"mt-8",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>d("all"),className:`rounded-full px-4 py-2 text-sm font-medium ${a==="all"?"bg-primary text-primary-foreground":"bg-accent text-accent-foreground hover:bg-accent/80"}`,children:"Semua"}),b.map(e=>s.jsx("button",{onClick:()=>d(e),className:`rounded-full px-4 py-2 text-sm font-medium ${a===e?"bg-primary text-primary-foreground":"bg-accent text-accent-foreground hover:bg-accent/80"}`,children:e},e))]})}),s.jsx("div",{className:"mt-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:c==null?void 0:c.map(e=>s.jsxs("div",{onClick:()=>j(e),className:"group cursor-pointer overflow-hidden rounded-lg border border-border bg-card transition-all hover:border-primary/50 hover:shadow-lg",children:[s.jsx("div",{className:"relative aspect-[16/9] overflow-hidden",children:s.jsx(k,{src:e.image_url,alt:e.name,className:"size-full object-cover transition-transform duration-300 group-hover:scale-105"})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"line-clamp-1 font-medium text-foreground",children:e.name}),s.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-muted-foreground",children:e.description}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:u(e.price)}),s.jsx("span",{className:"inline-flex items-center rounded-full bg-accent/20 px-2 py-1 text-xs font-medium text-accent-foreground",children:"New"})]})]})]},e.id))}),s.jsxs("div",{className:"mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Brand Partner"}),s.jsx("div",{className:"mx-auto mt-10 grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4",children:l==null?void 0:l.map(e=>s.jsx(y,{src:e.logo_url,alt:e.name},e.id))})]})]}),s.jsx(v,{isOpen:p,onClose:()=>m(!1),productName:r.name,productImages:r.images,productPrice:r.price,productShortDescription:r.shortDescription,productDescription:r.description,tkdnNumber:r.tkdnNumber,marketplaceLinks:r.marketplaceLinks})]})};export{D as ProductsPage,D as default};
